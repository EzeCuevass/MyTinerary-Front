{"ast":null,"code":"import axios from \"axios\";\nconst commentActions = {\n  addComment: comment => {\n    const token = localStorage.getItem('token');\n    return async (dispatch, getState) => {\n      if (comment.comments.comment !== \"\") {\n        const res = await axios.post(`https://mytinerary-cuevas.herokuapp.com/api/comments`, {\n          comment\n        }, {\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        dispatch({\n          type: \"MESSAGE\",\n          payload: {\n            view: true,\n            message: res.data.message,\n            success: res.data.success\n          }\n        });\n        console.log(res);\n        return res;\n      } else {\n        dispatch({\n          type: \"MESSAGE\",\n          payload: {\n            view: true,\n            message: \"Add a new comment\",\n            success: false\n          }\n        });\n      }\n    };\n  },\n  modifyComment: comment => {\n    const token = localStorage.getItem('token');\n    return async (dispatch, getState) => {\n      const res = await axios.put(`https://mytinerary-cuevas.herokuapp.com/api/comments`, {\n        comment\n      }, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      dispatch({\n        type: \"MESSAGE\",\n        payload: {\n          view: true,\n          message: res.data.message,\n          success: res.data.success\n        }\n      });\n      return res;\n    };\n  },\n  deleteComment: id => {\n    const token = localStorage.getItem('token');\n    return async (dispatch, getState) => {\n      const res = await axios.post(`https://mytinerary-cuevas.herokuapp.com/api/comments/${id}`, {}, {\n        headers: {\n          'Authorization': \"Bearer \" + token\n        }\n      });\n      dispatch({\n        type: 'MESSAGE',\n        payload: {\n          view: true,\n          message: res.data.message,\n          success: res.data.success\n        }\n      });\n      return res.data.response;\n    };\n  }\n};\nexport default commentActions;","map":{"version":3,"names":["axios","commentActions","addComment","comment","token","localStorage","getItem","dispatch","getState","comments","res","post","headers","type","payload","view","message","data","success","console","log","modifyComment","put","deleteComment","id","response"],"sources":["C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/src/redux/actions/commentsActions.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst commentActions = {\r\n\r\naddComment: (comment) => {\r\n    const token = localStorage.getItem('token')\r\n    return async (dispatch, getState) => {\r\n    if (comment.comments.comment !== \"\") {\r\n        const res = await axios.post(`https://mytinerary-cuevas.herokuapp.com/api/comments`, { comment }, {\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`\r\n        }\r\n        })\r\n        dispatch({\r\n        type: \"MESSAGE\",\r\n        payload: {\r\n            view: true,\r\n            message: res.data.message,\r\n            success: res.data.success\r\n        }\r\n        })\r\n        console.log(res);\r\n        return res\r\n    }\r\n    else {\r\n        dispatch({\r\n        type: \"MESSAGE\",\r\n        payload: {\r\n            view: true,\r\n            message: \"Add a new comment\",\r\n            success: false\r\n        }\r\n        })\r\n    }\r\n    }\r\n\r\n},\r\nmodifyComment: (comment) => {\r\n    const token = localStorage.getItem('token')\r\n    return async (dispatch, getState) => {\r\n        const res = await axios.put(`https://mytinerary-cuevas.herokuapp.com/api/comments`, { comment }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n        dispatch({\r\n            type: \"MESSAGE\",\r\n            payload: {\r\n                view: true,\r\n                message: res.data.message,\r\n                success: res.data.success\r\n            }\r\n        })\r\n    return res\r\n    }\r\n},\r\ndeleteComment: (id) => {\r\n    const token = localStorage.getItem('token')\r\n        return async (dispatch, getState) => {\r\n            const res = await axios.post(`https://mytinerary-cuevas.herokuapp.com/api/comments/${id}`,{},\r\n            {headers: {'Authorization': \"Bearer \"+token}}\r\n        )\r\n        dispatch({\r\n            type: 'MESSAGE', \r\n            payload: {view: true, \r\n                message: res.data.message, \r\n                success: res.data.success}\r\n        })\r\n        return res.data.response\r\n    }\r\n}\r\n}\r\n\r\nexport default commentActions;"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,cAAc,GAAG;EAEvBC,UAAU,EAAGC,OAAD,IAAa;IACrB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;IACA,OAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;MACrC,IAAIL,OAAO,CAACM,QAAR,CAAiBN,OAAjB,KAA6B,EAAjC,EAAqC;QACjC,MAAMO,GAAG,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAY,sDAAZ,EAAmE;UAAER;QAAF,CAAnE,EAAgF;UAClGS,OAAO,EAAE;YACL,iBAAkB,UAASR,KAAM;UAD5B;QADyF,CAAhF,CAAlB;QAKAG,QAAQ,CAAC;UACTM,IAAI,EAAE,SADG;UAETC,OAAO,EAAE;YACLC,IAAI,EAAE,IADD;YAELC,OAAO,EAAEN,GAAG,CAACO,IAAJ,CAASD,OAFb;YAGLE,OAAO,EAAER,GAAG,CAACO,IAAJ,CAASC;UAHb;QAFA,CAAD,CAAR;QAQAC,OAAO,CAACC,GAAR,CAAYV,GAAZ;QACA,OAAOA,GAAP;MACH,CAhBD,MAiBK;QACDH,QAAQ,CAAC;UACTM,IAAI,EAAE,SADG;UAETC,OAAO,EAAE;YACLC,IAAI,EAAE,IADD;YAELC,OAAO,EAAE,mBAFJ;YAGLE,OAAO,EAAE;UAHJ;QAFA,CAAD,CAAR;MAQH;IACA,CA5BD;EA8BH,CAlCsB;EAmCvBG,aAAa,EAAGlB,OAAD,IAAa;IACxB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;IACA,OAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;MACjC,MAAME,GAAG,GAAG,MAAMV,KAAK,CAACsB,GAAN,CAAW,sDAAX,EAAkE;QAAEnB;MAAF,CAAlE,EAA+E;QAC7FS,OAAO,EAAE;UACL,iBAAkB,UAASR,KAAM;QAD5B;MADoF,CAA/E,CAAlB;MAKAG,QAAQ,CAAC;QACLM,IAAI,EAAE,SADD;QAELC,OAAO,EAAE;UACLC,IAAI,EAAE,IADD;UAELC,OAAO,EAAEN,GAAG,CAACO,IAAJ,CAASD,OAFb;UAGLE,OAAO,EAAER,GAAG,CAACO,IAAJ,CAASC;QAHb;MAFJ,CAAD,CAAR;MAQJ,OAAOR,GAAP;IACC,CAfD;EAgBH,CArDsB;EAsDvBa,aAAa,EAAGC,EAAD,IAAQ;IACnB,MAAMpB,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;IACI,OAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;MACjC,MAAME,GAAG,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAY,wDAAuDa,EAAG,EAAtE,EAAwE,EAAxE,EAClB;QAACZ,OAAO,EAAE;UAAC,iBAAiB,YAAUR;QAA5B;MAAV,CADkB,CAAlB;MAGJG,QAAQ,CAAC;QACLM,IAAI,EAAE,SADD;QAELC,OAAO,EAAE;UAACC,IAAI,EAAE,IAAP;UACLC,OAAO,EAAEN,GAAG,CAACO,IAAJ,CAASD,OADb;UAELE,OAAO,EAAER,GAAG,CAACO,IAAJ,CAASC;QAFb;MAFJ,CAAD,CAAR;MAMA,OAAOR,GAAG,CAACO,IAAJ,CAASQ,QAAhB;IACH,CAXG;EAYP;AApEsB,CAAvB;AAuEA,eAAexB,cAAf"},"metadata":{},"sourceType":"module"}