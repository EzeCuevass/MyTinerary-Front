{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";var itinerariesActions={getItineraries:function getItineraries(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,getState){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:4000/api/itineraries\");case 2:res=_context.sent;dispatch({type:\"GETITINERARIES\",payload:res.data.response.itineraries});case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();},getOneItinerary:function getOneItinerary(id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch,getState){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"http://localhost:4000/api/itineraries/\".concat(id));case 2:res=_context2.sent;dispatch({type:\"GETONEITINERARY\",payload:res.data.response});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();},findTinFromCity:function findTinFromCity(id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch,getState){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(\"http://localhost:4000/api/itineraries/cities/\".concat(id));case 2:res=_context3.sent;// console.log(res);\ndispatch({type:'FIND_ITINERARY_FROM_CITY',payload:res.data.response.itineraries});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();},like:function like(id){var token=localStorage.getItem('token');return/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.put(\"http://localhost:4000/api/itineraries/likes/\".concat(id),{},{headers:{Authorization:'Bearer '+token}});case 3:response=_context4.sent;console.log(response);return _context4.abrupt(\"return\",response);case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));}};export default itinerariesActions;","map":{"version":3,"names":["axios","itinerariesActions","getItineraries","dispatch","getState","get","res","type","payload","data","response","itineraries","getOneItinerary","id","findTinFromCity","like","token","localStorage","getItem","put","headers","Authorization","console","log"],"sources":["C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/src/redux/actions/itinerariesActions.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst itinerariesActions = {\r\n    getItineraries: ()=>{\r\n        return async (dispatch, getState) => {\r\n            const res = await axios.get(\"http://localhost:4000/api/itineraries\")\r\n            dispatch({type: \"GETITINERARIES\", payload: res.data.response.itineraries})\r\n        }\r\n    },\r\n    getOneItinerary: (id)=>{\r\n        return async (dispatch, getState) => {\r\n            const res = await axios.get(`http://localhost:4000/api/itineraries/${id}`)\r\n            dispatch({type: \"GETONEITINERARY\", payload: res.data.response})\r\n        }\r\n    },\r\n    findTinFromCity: (id) => {\r\n        return async (dispatch, getState) => {\r\n            const res = await axios.get(`http://localhost:4000/api/itineraries/cities/${id}`)\r\n            // console.log(res);\r\n            dispatch({ type: 'FIND_ITINERARY_FROM_CITY', payload: res.data.response.itineraries})\r\n        }\r\n    },\r\n    like: (id) => {\r\n        const token = localStorage.getItem('token')\r\n        return async () => {\r\n            try {\r\n                let response = await axios.put(`http://localhost:4000/api/itineraries/likes/${id}`, {},\r\n                {headers: {\r\n                    Authorization: 'Bearer '+ token\r\n                    }\r\n                })\r\n                console.log(response)\r\n                return response\r\n            }catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n    }\r\n}\r\nexport default itinerariesActions"],"mappings":"oTAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,GAAMC,mBAAkB,CAAG,CACvBC,cAAc,CAAE,yBAAI,CAChB,iGAAO,iBAAOC,QAAP,CAAiBC,QAAjB,kJACeJ,MAAK,CAACK,GAAN,CAAU,uCAAV,CADf,QACGC,GADH,eAEHH,QAAQ,CAAC,CAACI,IAAI,CAAE,gBAAP,CAAyBC,OAAO,CAAEF,GAAG,CAACG,IAAJ,CAASC,QAAT,CAAkBC,WAApD,CAAD,CAAR,CAFG,sDAAP,mEAIH,CANsB,CAOvBC,eAAe,CAAE,yBAACC,EAAD,CAAM,CACnB,kGAAO,kBAAOV,QAAP,CAAiBC,QAAjB,uJACeJ,MAAK,CAACK,GAAN,iDAAmDQ,EAAnD,EADf,QACGP,GADH,gBAEHH,QAAQ,CAAC,CAACI,IAAI,CAAE,iBAAP,CAA0BC,OAAO,CAAEF,GAAG,CAACG,IAAJ,CAASC,QAA5C,CAAD,CAAR,CAFG,wDAAP,qEAIH,CAZsB,CAavBI,eAAe,CAAE,yBAACD,EAAD,CAAQ,CACrB,kGAAO,kBAAOV,QAAP,CAAiBC,QAAjB,uJACeJ,MAAK,CAACK,GAAN,wDAA0DQ,EAA1D,EADf,QACGP,GADH,gBAEH;AACAH,QAAQ,CAAC,CAAEI,IAAI,CAAE,0BAAR,CAAoCC,OAAO,CAAEF,GAAG,CAACG,IAAJ,CAASC,QAAT,CAAkBC,WAA/D,CAAD,CAAR,CAHG,wDAAP,qEAKH,CAnBsB,CAoBvBI,IAAI,CAAE,cAACF,EAAD,CAAQ,CACV,GAAMG,MAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,6EAAO,+LAEsBlB,MAAK,CAACmB,GAAN,uDAAyDN,EAAzD,EAA+D,EAA/D,CACrB,CAACO,OAAO,CAAE,CACNC,aAAa,CAAE,UAAWL,KADpB,CAAV,CADqB,CAFtB,QAEKN,QAFL,gBAOCY,OAAO,CAACC,GAAR,CAAYb,QAAZ,EAPD,iCAQQA,QARR,6DAUCY,OAAO,CAACC,GAAR,eAVD,sEAAP,GAaH,CAnCsB,CAA3B,CAqCA,cAAetB,mBAAf"},"metadata":{},"sourceType":"module"}