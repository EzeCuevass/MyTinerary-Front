{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"expand\"];import React,{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import itinerariesActions from\"../redux/actions/itinerariesActions\";import ExpandMoreIcon from'@mui/icons-material/ExpandMore';import{styled}from'@mui/material/styles';import IconButton from'@mui/material/IconButton';import FavoriteBorderIcon from'@mui/icons-material/FavoriteBorder';import FavoriteIcon from'@mui/icons-material/Favorite';import Collapse from'@mui/material/Collapse';import Comments from\"./Comments\";import\"../styles/comments.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var emoji=\"ğŸ’µ\";var ExpandMore=styled(function(props){var expand=props.expand,other=_objectWithoutProperties(props,_excluded);return/*#__PURE__*/_jsx(IconButton,_objectSpread({},other));})(function(_ref){var theme=_ref.theme,expand=_ref.expand;return{transform:!expand?'rotate(0deg)':'rotate(180deg)',marginLeft:'auto',transition:theme.transitions.create('transform',{duration:theme.transitions.duration.shortest})};});function CardItineararies(_ref2){var cityid=_ref2.cityid,itinerary=_ref2.itinerary;var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),reload=_useState2[0],setReload=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),likes=_useState4[0],setLikes=_useState4[1];var user=useSelector(function(store){return store.userReducer.user;});function likesDislikes(){return _likesDislikes.apply(this,arguments);}function _likesDislikes(){_likesDislikes=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var like;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(itinerariesActions.like(itinerary._id));case 2:like=_context.sent;setLikes(like);setReload(!reload);case 5:case\"end\":return _context.stop();}}},_callee);}));return _likesDislikes.apply(this,arguments);}useEffect(function(){dispatch(itinerariesActions.findTinFromCity(cityid));},[reload]);// expand button\nvar _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),expanded=_React$useState2[0],setExpanded=_React$useState2[1];var handleExpandClick=function handleExpandClick(){setExpanded(!expanded);};return/*#__PURE__*/_jsxs(\"div\",{className:\"itinerary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"itinerary-box-one\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"box-photo\",children:/*#__PURE__*/_jsx(\"img\",{src:itinerary.personPhoto,alt:\"photo\",className:\"photo-itinerary\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"person-name\",children:/*#__PURE__*/_jsx(\"p\",{children:itinerary.person})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"itinerary-box-two\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"itinerary-body\",children:[/*#__PURE__*/_jsx(\"h3\",{children:itinerary.itineraryName}),/*#__PURE__*/_jsx(\"p\",{children:emoji.repeat(itinerary.price)}),/*#__PURE__*/_jsx(\"p\",{children:itinerary.duration}),/*#__PURE__*/_jsxs(\"div\",{className:\"likes\",children:[user&&user?/*#__PURE__*/_jsx(\"span\",{className:\"likeButton\",onClick:likesDislikes,children:itinerary.likes.includes(user.id)?/*#__PURE__*/_jsx(FavoriteIcon,{}):/*#__PURE__*/_jsx(FavoriteBorderIcon,{})}):/*#__PURE__*/_jsx(FavoriteBorderIcon,{}),/*#__PURE__*/_jsx(\"p\",{children:itinerary.likes.length})]}),/*#__PURE__*/_jsx(\"p\",{children:\"See Activities\"}),/*#__PURE__*/_jsx(ExpandMore,{expand:expanded,onClick:handleExpandClick,\"aria-expanded\":expanded,\"aria-label\":\"show more\",children:/*#__PURE__*/_jsx(ExpandMoreIcon,{sx:{color:\"white\"}})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"itinerary-box-three\",children:itinerary.hashtags.map(function(hashtags){return/*#__PURE__*/_jsx(\"p\",{className:\"hashtag-css\",children:hashtags},hashtags);})}),/*#__PURE__*/_jsx(\"div\",{className:\"itinerary-box-four\",children:/*#__PURE__*/_jsx(Collapse,{in:expanded,timeout:\"auto\",unmountOnExit:true,children:/*#__PURE__*/_jsx(\"div\",{className:\"activities-box\",children:itinerary.activities.length>0?itinerary.activities.map(function(activities){return/*#__PURE__*/_jsxs(\"div\",{className:\"activities\",children:[/*#__PURE__*/_jsx(\"p\",{children:activities.activity}),/*#__PURE__*/_jsx(\"div\",{className:\"activity-box-photo\",children:/*#__PURE__*/_jsx(\"img\",{src:activities.activityphoto,alt:\"image-activity\",className:\"activity-photo\"})})]},activities._id);}):/*#__PURE__*/_jsx(\"div\",{className:\"activities\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"No activities available\"})})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"comments-box-container\",children:/*#__PURE__*/_jsx(Collapse,{in:expanded,timeout:\"auto\",unmountOnExit:true,children:itinerary.activities.length>0?/*#__PURE__*/_jsx(Comments,{itinerary:itinerary,cityid:cityid}):/*#__PURE__*/_jsx(\"div\",{})})})]},itinerary._id);}export default CardItineararies;","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","itinerariesActions","ExpandMoreIcon","styled","IconButton","FavoriteBorderIcon","FavoriteIcon","Collapse","Comments","emoji","ExpandMore","props","expand","other","theme","transform","marginLeft","transition","transitions","create","duration","shortest","CardItineararies","cityid","itinerary","dispatch","reload","setReload","likes","setLikes","user","store","userReducer","likesDislikes","like","_id","findTinFromCity","expanded","setExpanded","handleExpandClick","personPhoto","person","itineraryName","repeat","price","includes","id","length","color","hashtags","map","activities","activity","activityphoto"],"sources":["C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/src/components/CardItineraries.jsx"],"sourcesContent":["import React, {useState, useEffect} from \"react\"\r\nimport {useDispatch,useSelector} from \"react-redux\"\r\nimport itinerariesActions from \"../redux/actions/itinerariesActions\"\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport { styled } from '@mui/material/styles';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport FavoriteBorderIcon from '@mui/icons-material/FavoriteBorder';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport Collapse from '@mui/material/Collapse';\r\nimport Comments from \"./Comments\";\r\nimport \"../styles/comments.css\"\r\nlet emoji = \"ğŸ’µ\"\r\n\r\n\r\nconst ExpandMore = styled((props) => {\r\n    const { expand, ...other } = props;\r\n    return <IconButton {...other} />;\r\n})(({ theme, expand }) => ({\r\n    transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n    duration: theme.transitions.duration.shortest,\r\n    }),\r\n}));\r\n\r\nfunction CardItineararies({cityid, itinerary}){\r\n    const dispatch = useDispatch()\r\n    const [reload, setReload] = useState()\r\n    const [likes, setLikes] = useState()\r\n    \r\n    const user = useSelector(store=>store.userReducer.user)\r\n    \r\n    async function likesDislikes() {\r\n        const like = await dispatch(itinerariesActions.like(itinerary._id))\r\n        setLikes(like)\r\n        setReload(!reload)\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        dispatch(itinerariesActions.findTinFromCity(cityid))\r\n    },[reload])\r\n    \r\n    \r\n    // expand button\r\n    const [expanded, setExpanded] = React.useState(false);\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n    };\r\n\r\n    \r\n    return(\r\n        <div className=\"itinerary\" key={itinerary._id}>\r\n                    <div className=\"itinerary-box-one\">\r\n                        <div className=\"box-photo\">\r\n                            <img src={itinerary.personPhoto} alt=\"photo\" className=\"photo-itinerary\"/>\r\n                        </div>\r\n                        <div className=\"person-name\">\r\n                            <p>{itinerary.person}</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"itinerary-box-two\">\r\n                        <div className=\"itinerary-body\">\r\n                            <h3>{itinerary.itineraryName}</h3>\r\n                            <p>{emoji.repeat(itinerary.price)}</p>\r\n                            <p>{itinerary.duration}</p>\r\n                            <div className=\"likes\">\r\n                            { user &&\r\n                            user ?\r\n                                (<span className=\"likeButton\" onClick={likesDislikes}>{itinerary.likes.includes(user.id) ?\r\n                                <FavoriteIcon />:\r\n                                <FavoriteBorderIcon />}</span>)\r\n                                : (<FavoriteBorderIcon />)}\r\n                                <p>{itinerary.likes.length}</p>\r\n                            </div>\r\n                            <p>See Activities</p>\r\n                            <ExpandMore\r\n                                expand={expanded}\r\n                                onClick={handleExpandClick}\r\n                                aria-expanded={expanded}\r\n                                aria-label=\"show more\"\r\n                            >\r\n                                <ExpandMoreIcon sx={{ color: \"white\"}}/>\r\n                            </ExpandMore>\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"itinerary-box-three\">\r\n                        {itinerary.hashtags.map(hashtags=>(\r\n                            <p className=\"hashtag-css\" key={hashtags}>{hashtags}</p>\r\n                        ))}\r\n                    </div>\r\n                    <div className=\"itinerary-box-four\">\r\n                        <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                            <div className=\"activities-box\">\r\n                                { itinerary.activities.length > 0 ?\r\n                                itinerary.activities.map(activities=>(\r\n                                    <div className=\"activities\" key={activities._id}>\r\n                                        <p>{activities.activity}</p>\r\n                                        <div className=\"activity-box-photo\">\r\n                                            <img src={activities.activityphoto} alt=\"image-activity\" className=\"activity-photo\"/>\r\n                                        </div>\r\n                                    </div>\r\n                                ))\r\n                                :\r\n                                <div className=\"activities\">\r\n                                        <h1>No activities available</h1>\r\n                                    </div>}\r\n                            </div>\r\n                        </Collapse>\r\n                    </div>\r\n                    <div className=\"comments-box-container\">\r\n                    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                            {\r\n                                itinerary.activities.length>0?\r\n                                <Comments itinerary={itinerary} cityid={cityid}/>\r\n                                :\r\n                                <div></div>\r\n                            }\r\n                    </Collapse>\r\n                        </div>\r\n                </div>\r\n    )\r\n}\r\nexport default CardItineararies"],"mappings":"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"},"metadata":{},"sourceType":"module"}