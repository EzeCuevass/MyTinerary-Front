{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";var commentActions={addComment:function addComment(comment){var token=localStorage.getItem('token');return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,getState){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(comment.comments.comment!==\"\")){_context.next=9;break;}_context.next=3;return axios.post(\"http://localhost:4000/api/comments\",{comment:comment},{headers:{'Authorization':\"Bearer \".concat(token)}});case 3:res=_context.sent;dispatch({type:\"MESSAGE\",payload:{view:true,message:res.data.message,success:res.data.success}});console.log(res);return _context.abrupt(\"return\",res);case 9:dispatch({type:\"MESSAGE\",payload:{view:true,message:\"Add a new comment\",success:false}});case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();},modifyComment:function modifyComment(comment){var token=localStorage.getItem('token');return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch,getState){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.put(\"http://localhost:4000/api/comments\",{comment:comment},{headers:{'Authorization':\"Bearer \".concat(token)}});case 2:res=_context2.sent;dispatch({type:\"MESSAGE\",payload:{view:true,message:res.data.message,success:res.data.success}});return _context2.abrupt(\"return\",res);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();},deleteComment:function deleteComment(id){var token=localStorage.getItem('token');return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch,getState){var res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.post(\"http://localhost:4000/api/comments/\".concat(id),{},{headers:{'Authorization':\"Bearer \"+token}});case 2:res=_context3.sent;dispatch({type:'MESSAGE',payload:{view:true,message:res.data.message,success:res.data.success}});return _context3.abrupt(\"return\",res.data.response);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();}};export default commentActions;","map":{"version":3,"names":["axios","commentActions","addComment","comment","token","localStorage","getItem","dispatch","getState","comments","post","headers","res","type","payload","view","message","data","success","console","log","modifyComment","put","deleteComment","id","response"],"sources":["C:/Users/Eze/Desktop/Bootcamp/MyTinerary/mytinerary/frontend/src/redux/actions/commentsActions.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst commentActions = {\r\n\r\naddComment: (comment) => {\r\n    const token = localStorage.getItem('token')\r\n    return async (dispatch, getState) => {\r\n    if (comment.comments.comment !== \"\") {\r\n        const res = await axios.post(`http://localhost:4000/api/comments`, { comment }, {\r\n        headers: {\r\n            'Authorization': `Bearer ${token}`\r\n        }\r\n        })\r\n        dispatch({\r\n        type: \"MESSAGE\",\r\n        payload: {\r\n            view: true,\r\n            message: res.data.message,\r\n            success: res.data.success\r\n        }\r\n        })\r\n        console.log(res);\r\n        return res\r\n    }\r\n    else {\r\n        dispatch({\r\n        type: \"MESSAGE\",\r\n        payload: {\r\n            view: true,\r\n            message: \"Add a new comment\",\r\n            success: false\r\n        }\r\n        })\r\n    }\r\n    }\r\n\r\n},\r\nmodifyComment: (comment) => {\r\n    const token = localStorage.getItem('token')\r\n    return async (dispatch, getState) => {\r\n        const res = await axios.put(`http://localhost:4000/api/comments`, { comment }, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n        dispatch({\r\n            type: \"MESSAGE\",\r\n            payload: {\r\n                view: true,\r\n                message: res.data.message,\r\n                success: res.data.success\r\n            }\r\n        })\r\n    return res\r\n    }\r\n},\r\ndeleteComment: (id) => {\r\n    const token = localStorage.getItem('token')\r\n        return async (dispatch, getState) => {\r\n            const res = await axios.post(`http://localhost:4000/api/comments/${id}`,{},\r\n            {headers: {'Authorization': \"Bearer \"+token}}\r\n        )\r\n        dispatch({\r\n            type: 'MESSAGE', \r\n            payload: {view: true, \r\n                message: res.data.message, \r\n                success: res.data.success}\r\n        })\r\n        return res.data.response\r\n    }\r\n}\r\n}\r\n\r\nexport default commentActions;"],"mappings":"oTAAA,MAAOA,MAAP,KAAkB,OAAlB,CAEA,GAAMC,eAAc,CAAG,CAEvBC,UAAU,CAAE,oBAACC,OAAD,CAAa,CACrB,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,iGAAO,iBAAOC,QAAP,CAAiBC,QAAjB,iIACHL,OAAO,CAACM,QAAR,CAAiBN,OAAjB,GAA6B,EAD1B,gDAEeH,MAAK,CAACU,IAAN,sCAAiD,CAAEP,OAAO,CAAPA,OAAF,CAAjD,CAA8D,CAChFQ,OAAO,CAAE,CACL,iCAA2BP,KAA3B,CADK,CADuE,CAA9D,CAFf,QAEGQ,GAFH,eAOHL,QAAQ,CAAC,CACTM,IAAI,CAAE,SADG,CAETC,OAAO,CAAE,CACLC,IAAI,CAAE,IADD,CAELC,OAAO,CAAEJ,GAAG,CAACK,IAAJ,CAASD,OAFb,CAGLE,OAAO,CAAEN,GAAG,CAACK,IAAJ,CAASC,OAHb,CAFA,CAAD,CAAR,CAQAC,OAAO,CAACC,GAAR,CAAYR,GAAZ,EAfG,gCAgBIA,GAhBJ,SAmBHL,QAAQ,CAAC,CACTM,IAAI,CAAE,SADG,CAETC,OAAO,CAAE,CACLC,IAAI,CAAE,IADD,CAELC,OAAO,CAAE,mBAFJ,CAGLE,OAAO,CAAE,KAHJ,CAFA,CAAD,CAAR,CAnBG,uDAAP,mEA8BH,CAlCsB,CAmCvBG,aAAa,CAAE,uBAAClB,OAAD,CAAa,CACxB,GAAMC,MAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACA,kGAAO,kBAAOC,QAAP,CAAiBC,QAAjB,uJACeR,MAAK,CAACsB,GAAN,sCAAgD,CAAEnB,OAAO,CAAPA,OAAF,CAAhD,CAA6D,CAC3EQ,OAAO,CAAE,CACL,iCAA2BP,KAA3B,CADK,CADkE,CAA7D,CADf,QACGQ,GADH,gBAMHL,QAAQ,CAAC,CACLM,IAAI,CAAE,SADD,CAELC,OAAO,CAAE,CACLC,IAAI,CAAE,IADD,CAELC,OAAO,CAAEJ,GAAG,CAACK,IAAJ,CAASD,OAFb,CAGLE,OAAO,CAAEN,GAAG,CAACK,IAAJ,CAASC,OAHb,CAFJ,CAAD,CAAR,CANG,iCAcAN,GAdA,0DAAP,qEAgBH,CArDsB,CAsDvBW,aAAa,CAAE,uBAACC,EAAD,CAAQ,CACnB,GAAMpB,MAAK,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd,CACI,kGAAO,kBAAOC,QAAP,CAAiBC,QAAjB,uJACeR,MAAK,CAACU,IAAN,8CAAiDc,EAAjD,EAAsD,EAAtD,CAClB,CAACb,OAAO,CAAE,CAAC,gBAAiB,UAAUP,KAA5B,CAAV,CADkB,CADf,QACGQ,GADH,gBAIPL,QAAQ,CAAC,CACLM,IAAI,CAAE,SADD,CAELC,OAAO,CAAE,CAACC,IAAI,CAAE,IAAP,CACLC,OAAO,CAAEJ,GAAG,CAACK,IAAJ,CAASD,OADb,CAELE,OAAO,CAAEN,GAAG,CAACK,IAAJ,CAASC,OAFb,CAFJ,CAAD,CAAR,CAJO,iCAUAN,GAAG,CAACK,IAAJ,CAASQ,QAVT,0DAAP,qEAYP,CApEsB,CAAvB,CAuEA,cAAexB,eAAf"},"metadata":{},"sourceType":"module"}